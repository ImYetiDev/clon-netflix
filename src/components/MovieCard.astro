---
const { movie } = Astro.props;
const imgBase = 'https://image.tmdb.org/t/p/w500';
---

<a href={`/movie/${movie.id}`} class="group relative w-[280px] shrink-0 cursor-pointer transition-transform hover:scale-105">
  <img
    src={`${imgBase}${movie.poster_path}`}
    alt={movie.name || movie.title}
    class="rounded-md w-full h-auto object-cover"
    loading="lazy"
  />

  <!-- Overlay mejorado -->
  <figcaption
    class="absolute inset-0 bg-black/80 text-white p-4 flex flex-col justify-start
           opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-md"
  >
    <h3 class="text-sm font-bold leading-tight line-clamp-1">{movie.name || movie.title}</h3>
    <p class="text-xs opacity-80 mt-1">
      {(movie.release_date || movie.first_air_date)?.slice(0, 4)} • ⭐ {movie.vote_average?.toFixed(1)}
    </p>
    <p class="text-xs mt-2 line-clamp-4 opacity-90">{movie.overview}</p>
  </figcaption>
</a>
